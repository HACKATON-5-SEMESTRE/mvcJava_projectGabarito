<!DOCTYPE html>
<html lang="pt" xmlns:th="http://www.thymeleaf.org">
<head th:insert="~{index :: head}">
    <title>Lista de Alunos</title>
</head>
<body>
<div class="container">
    <div th:insert="~{index :: menu}"></div>
    <br/>
    <h2>Lista de Alunos</h2>
    <a th:href="@{/aluno}" class="btn btn-primary mb-3">Novo Aluno</a>

    <div th:if="${message}" class="alert alert-info" role="alert">
        <span th:text="${message}"></span>
    </div>

    <table class="table table-striped">
        <thead>
        <tr>
            <th>ID</th>
            <th>Nome</th>
            <th>RA</th>
            <th>Email</th>
            <th>Login</th>
            <th>Turma</th>
            <th>Ações</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="aluno : ${alunos}">
            <td th:text="${aluno.id}"></td>
            <td th:text="${aluno.nome}"></td>
            <td th:text="${aluno.RA}"></td>
            <td th:text="${aluno.email}"></td>
            <td th:text="${aluno.login}"></td>
            <td th:text="${aluno.turma != null ? aluno.turma.nome : 'N/A'}"></td>
            <td>
                <a th:href="@{/aluno/editar/{id}(id=${aluno.id})}" class="btn btn-sm btn-warning">Editar</a>
                <a th:href="@{/aluno/remover/{id}(id=${aluno.id})}" class="btn btn-sm btn-danger"
                   onclick="return confirm('Tem certeza que deseja remover este aluno?')">Remover</a>
            </td>
        </tr>
        </tbody>
    </table>

    <div th:if="${#lists.isEmpty(alunos)}" class="alert alert-info" role="alert">
        Nenhum aluno cadastrado.
    </div>
</div>
<div th:insert="~{index :: script}"></div>
</body>
</html>
